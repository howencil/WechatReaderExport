# 微信读书笔记导出Chrome插件 - PRD产品需求文档

## 项目概述

### 产品名称
微信读书笔记导出器 (WeChat Reader Note Exporter)

### 产品定位
一个轻量化的Chrome插件，帮助用户快速导出微信读书中的个人笔记和标注内容，支持多种格式输出。

### 目标用户
- 经常使用微信读书做笔记的用户
- 需要整理和备份读书笔记的学习者
- 希望将笔记转移到其他平台（如Obsidian、Notion）的用户

## 核心功能需求

### 1. 笔记数据提取
**功能描述：** 自动识别并提取微信读书页面中的笔记内容

**具体需求：**
- [ ] 检测当前页面是否为微信读书笔记相关页面
- [ ] 提取笔记基本信息：
  - 书籍名称和作者
  - 章节信息
  - 笔记内容（原文摘录 + 个人笔记）
  - 创建时间
  - 页码位置（如有）
- [ ] 支持批量提取多条笔记
- [ ] 处理分页加载的笔记数据

### 2. 用户界面
**功能描述：** 简洁易用的插件弹窗界面

**具体需求：**
- [ ] 插件图标显示在Chrome工具栏
- [ ] 点击图标弹出操作面板
- [ ] 显示当前页面检测状态
- [ ] 提供导出格式选择选项
- [ ] 显示导出进度和状态反馈
- [ ] 错误提示和使用说明

### 3. 多格式导出
**功能描述：** 支持将笔记导出为多种常用格式

**具体需求：**
- [ ] **Markdown格式：** 
  - 按书籍分组
  - 包含章节标题结构
  - 笔记内容使用引用格式
- [ ] **JSON格式：**
  - 结构化数据便于程序处理
  - 包含完整的元数据信息
- [ ] **TXT格式：**
  - 纯文本格式，兼容性最好
  - 简洁的排版结构
- [ ] **CSV格式（可选）：**
  - 便于Excel等工具处理
  - 适合数据分析

### 4. 数据处理
**功能描述：** 对提取的笔记数据进行清理和格式化

**具体需求：**
- [ ] 去除HTML标签和多余空白符
- [ ] 统一时间格式
- [ ] 处理特殊字符和编码问题
- [ ] 笔记内容去重（可选）
- [ ] 按时间或章节排序

## 技术需求

### 兼容性要求
- [ ] 支持Chrome浏览器 88+
- [ ] 兼容微信读书Web版最新版本
- [ ] 适配不同屏幕分辨率

### 性能要求
- [ ] 插件启动时间 < 200ms
- [ ] 单次导出100条笔记 < 3秒
- [ ] 内存占用 < 50MB

### 安全要求
- [ ] 不收集用户隐私数据
- [ ] 本地处理，不上传笔记内容
- [ ] 遵循Chrome插件安全规范

## 用户体验需求

### 易用性
- [ ] 一键导出，操作简单
- [ ] 清晰的状态提示
- [ ] 支持键盘快捷键（可选）

### 可靠性
- [ ] 处理网络异常情况
- [ ] 处理页面结构变化
- [ ] 提供错误恢复机制

## 非功能性需求

### 可维护性
- [ ] 代码结构清晰，便于更新
- [ ] 配置与逻辑分离
- [ ] 详细的开发文档

### 可扩展性
- [ ] 支持添加新的导出格式
- [ ] 支持自定义导出模板
- [ ] 预留数据过滤功能接口

## 开发优先级

### P0 - 必须实现
- 基础笔记提取功能
- Markdown格式导出
- 简单的用户界面
- Chrome插件基础框架

### P1 - 重要功能
- JSON格式导出
- 批量导出功能
- 错误处理和用户提示
- 数据清理和格式化

### P2 - 增强功能
- TXT/CSV格式导出
- 导出设置选项
- 键盘快捷键
- 导出模板自定义

## 验收标准

### 核心功能验收
- [ ] 能正确识别微信读书笔记页面
- [ ] 能完整提取笔记的所有必要信息
- [ ] 导出的Markdown文件格式正确，可读性良好
- [ ] 在常见的笔记数量下（10-100条）导出速度满足要求

### 用户体验验收
- [ ] 界面简洁直观，无需说明文档即可使用
- [ ] 异常情况有合适的错误提示
- [ ] 导出过程有明确的进度反馈

## 风险评估

### 技术风险
- **微信读书页面结构变化：** 高风险，需要持续维护更新
- **Chrome插件API变化：** 中风险，关注Manifest V3兼容性
- **反爬虫机制：** 中风险，需要模拟正常用户行为

### 产品风险
- **用户隐私担忧：** 低风险，明确说明本地处理
- **功能复杂度：** 低风险，采用渐进式开发

## 后续规划

### Version 1.0
- 实现核心导出功能
- 支持Markdown和JSON格式

### Version 1.1
- 增加更多导出格式
- 优化用户界面体验

### Version 1.2
- 添加高级功能（自定义模板等）
- 性能优化

---

**文档版本：** v1.0  
**创建时间：** 2025-09-07  
**更新时间：** 2025-09-07